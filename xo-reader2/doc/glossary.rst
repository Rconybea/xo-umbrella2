ssm = syntax state machine
psm = parser state machine
ckp = checkpoint
